const e=window.WvRecurrenceTemplate.h;class t{constructor(){this.type=0,this.end_type=0,this.end_date=null,this.end_count=1,this.repeat_period_type=0,this.interval=1,this.timespan_start=null,this.timespan_end=null,this.allow_monday=!0,this.allow_tuesday=!0,this.allow_wednesday=!0,this.allow_thursday=!0,this.allow_friday=!0,this.allow_saturday=!0,this.allow_sunday=!0,this.repeat_month_type=0,this.recurrence_change_type=0}}class l{constructor(){this.recurrenceTemplate=null,this.templateDefault=null,this.typeOptions=null,this.endTypeOptions=null,this.periodTypeOptions=null,this.changeTypeOptions=null,this.recurrence=new t,this.typeSelectOptions=new Array,this.endTypeSelectOptions=new Array,this.periodTypeSelectOptions=new Array,this.changeTypeSelectOptions=new Array,this.hiddenValue=null,this.initialType=0}componentWillLoad(){this.recurrence=this.recurrenceTemplate?JSON.parse(this.recurrenceTemplate):JSON.parse(this.templateDefault),this.typeSelectOptions=JSON.parse(this.typeOptions),this.endTypeSelectOptions=JSON.parse(this.endTypeOptions),this.periodTypeSelectOptions=JSON.parse(this.periodTypeOptions),this.changeTypeSelectOptions=JSON.parse(this.changeTypeOptions),this.initialType=this.recurrence.type,this.hiddenValue=JSON.stringify(this.recurrence)}valueChangeHandler(e,t,l){let a=this;var r=e.target.value;switch(l){case"number":case"int":a.recurrence[t]=parseInt(r);break;case"date":a.recurrence[t]=r;break;case"bool":a.recurrence[t]=!!e.target.checked;break;case"string":a.recurrence[t]=r}a.hiddenValue=JSON.stringify(a.recurrence)}render(){let t=this;return e("div",null,e("input",{type:"hidden",value:t.hiddenValue,name:"recurrence_template"}),e("div",{class:"form-group erp-field label-horizontal row no-gutters form"},e("label",{class:"col-12 col-sm-auto col-form-label label-horizontal pr-0 pr-sm-2"},"Repeat:"),e("div",{class:"col"},e("select",{class:"form-control form-control-sm",onChange:e=>t.valueChangeHandler(e,"type","int")},t.typeSelectOptions.map(function(l,a){return e("option",{key:a,value:l.value,selected:l.value==t.recurrence.type.toString()},l.label)})))),e("div",{class:"mt-3 "+(7===t.recurrence.type?"":"d-none")},e("hr",{class:"divider mt-2 mb-2"}),e("div",{class:"form-group erp-field label-horizontal row no-gutters form"},e("label",{class:"col-12 col-sm-auto col-form-label label-horizontal pr-0 pr-sm-2"},"Repeat every:"),e("div",{class:"col"},e("div",{class:"input-group"},e("input",{class:"form-control flex-grow-0",style:{width:"80px"},value:t.recurrence.interval,onChange:e=>t.valueChangeHandler(e,"interval","int")}),e("span",{class:"input-group-prepend input-group-append"},e("span",{class:"input-group-text p-0",style:{width:"5px"}})),e("select",{class:"form-control form-control-sm  flex-grow-0",style:{width:"100px"},onChange:e=>t.valueChangeHandler(e,"repeat_period_type","int")},t.periodTypeSelectOptions.map(function(l,a){return e("option",{key:a,value:l.value,selected:l.value==t.recurrence.repeat_period_type.toString()},l.label)}))))),e("div",{class:"form-group erp-field label-horizontal row no-gutters form mt-3 "+(4===t.recurrence.repeat_period_type?"":"d-none")},e("label",{class:"col-12 col-sm-auto col-form-label label-horizontal pr-0 pr-sm-2"}),e("div",{class:"col"},e("div",{class:"form-check form-check-inline"},e("input",{class:"form-check-input",type:"checkbox",id:"Monday",value:"true",checked:t.recurrence.allow_monday,onChange:e=>t.valueChangeHandler(e,"allow_monday","bool")}),e("label",{class:"form-check-label",htmlFor:"Monday"},"Monday")),e("div",{class:"form-check form-check-inline"},e("input",{class:"form-check-input",type:"checkbox",id:"Tuesday",value:"true",checked:t.recurrence.allow_tuesday,onChange:e=>t.valueChangeHandler(e,"allow_tuesday","bool")}),e("label",{class:"form-check-label",htmlFor:"Tuesday"},"Tuesday")),e("div",{class:"form-check form-check-inline"},e("input",{class:"form-check-input",type:"checkbox",id:"Wednesday",value:"true",checked:t.recurrence.allow_wednesday,onChange:e=>t.valueChangeHandler(e,"allow_wednesday","bool")}),e("label",{class:"form-check-label",htmlFor:"Wednesday"},"Wednesday")),e("div",{class:"form-check form-check-inline"},e("input",{class:"form-check-input",type:"checkbox",id:"Thursday",value:"true",checked:t.recurrence.allow_thursday,onChange:e=>t.valueChangeHandler(e,"allow_thursday","bool")}),e("label",{class:"form-check-label",htmlFor:"Thursday"},"Thursday")),e("div",{class:"form-check form-check-inline"},e("input",{class:"form-check-input",type:"checkbox",id:"Friday",value:"true",checked:t.recurrence.allow_friday,onChange:e=>t.valueChangeHandler(e,"allow_friday","bool")}),e("label",{class:"form-check-label",htmlFor:"Friday"},"Friday")),e("div",{class:"form-check form-check-inline"},e("input",{class:"form-check-input",type:"checkbox",id:"Saturday",value:"true",checked:t.recurrence.allow_saturday,onChange:e=>t.valueChangeHandler(e,"allow_saturday","bool")}),e("label",{class:"form-check-label",htmlFor:"Saturday"},"Saturday")),e("div",{class:"form-check form-check-inline"},e("input",{class:"form-check-input",type:"checkbox",id:"Sunday",value:"true",checked:t.recurrence.allow_sunday,onChange:e=>t.valueChangeHandler(e,"allow_sunday","bool")}),e("label",{class:"form-check-label",htmlFor:"Sunday"},"Sunday")))),e("div",{class:"form-group erp-field label-horizontal row no-gutters form mt-3 "+(5===t.recurrence.repeat_period_type?"":"d-none")},e("label",{class:"col-12 col-sm-auto col-form-label label-horizontal pr-0 pr-sm-2"}),e("div",{class:"col"},e("div",{class:"form-check form-check-inline"},e("input",{class:"form-check-input",type:"radio",name:"monthPeriodOptions",id:"sameDate",value:"0",checked:0===t.recurrence.repeat_month_type,onChange:e=>t.valueChangeHandler(e,"repeat_month_type","int")}),e("label",{class:"form-check-label",htmlFor:"sameDate"},"same date")),e("div",{class:"form-check form-check-inline"},e("input",{class:"form-check-input",type:"radio",name:"monthPeriodOptions",id:"sameWeekDay",value:"1",checked:1===t.recurrence.repeat_month_type,onChange:e=>t.valueChangeHandler(e,"repeat_month_type","int")}),e("label",{class:"form-check-label",htmlFor:"sameWeekDay"},"same week day")))),e("hr",{class:"divider mt-2 mb-2"})),e("div",{class:"mt-3 "+(0===t.initialType?"d-none":"")},e("div",{class:"form-group erp-field label-horizontal row no-gutters form"},e("label",{class:"col-12 col-sm-auto col-form-label label-horizontal pr-0 pr-sm-2"},"Apply to:"),e("div",{class:"col"},e("select",{class:"form-control form-control-sm",onChange:e=>t.valueChangeHandler(e,"recurrence_change_type","int")},t.changeTypeSelectOptions.map(function(l,a){return e("option",{key:a,value:l.value,selected:l.value==t.recurrence.recurrence_change_type.toString()},l.label)}))))))}static get is(){return"wv-recurrence-template"}static get properties(){return{changeTypeOptions:{type:String,attr:"change-type-options"},changeTypeSelectOptions:{state:!0},endTypeOptions:{type:String,attr:"end-type-options"},endTypeSelectOptions:{state:!0},hiddenValue:{state:!0},initialType:{state:!0},periodTypeOptions:{type:String,attr:"period-type-options"},periodTypeSelectOptions:{state:!0},recurrence:{state:!0},recurrenceTemplate:{type:String,attr:"recurrence-template"},templateDefault:{type:String,attr:"template-default"},typeOptions:{type:String,attr:"type-options"},typeSelectOptions:{state:!0}}}}export{l as WvRecurrenceTemplate};