@page "/sdk/objects/application/r/{RecordId}/sitemap"
@using Newtonsoft.Json;
@model WebVella.Erp.Plugins.SDK.Pages.Application.SitemapModel
@{
	Layout = "~/Pages/_AppMaster.cshtml";
	ViewData["Title"] = "Application pages";
}
<wv-page-header color="@Model.App.Color" area-label="Applications" title="@Model.App.Label" subtitle="Sitemap"
				icon-class="@Model.App.IconClass" return-url="@Model.ReturnUrl">
	<wv-page-header-toolbar>
		@foreach (var action in Model.HeaderToolbar)
		{
			@Html.Raw(action)
		}
	</wv-page-header-toolbar>

</wv-page-header>

<wv-sitemap-manager app-id="@Model.App.Id" api-root='@(Model.ApiUrlRoot)/api/v3.0/p/sdk/' init-data='@Model.ComponentInitData'></wv-sitemap-manager>

<style>

	.sitemap-area {
		border: 1px solid #ccc;
		position: relative;
	}

	.area-header {
		height: 40px;
		display: flex;
		flex-direction: row;
		align-items: center;
		border-bottom: 1px solid #ccc;
		background: #f2f2f2;
	}

		.area-header .icon {
			color: white;
			width: 40px;
			text-align: center;
			font-size: 18px;
			line-height: 40px;
			align-self: flex-start;
			flex-grow: 0;
		}

		.area-header .label {
			flex-grow: 1;
			padding-left: 10px;
		}

		.area-header .action {
			align-self: flex-end;
			flex-grow: 0;
		}

			.area-header .action .btn {
				line-height: 30px;
			}

	.area-body {
		padding: 10px;
	}

	.sitemap-nodes td {
		line-height: 32px;
	}

	.sitemap-nodes .icon {
		font-size: 22px;
		vertical-align: middle;
	}

</style>